swagger: '2.0'
info:
  version: '1.0.0'
  title: Microservice MÁSMÓVIL
host: <HOST>
basePath: /api
schemes:
  - http
securityDefinitions:
  Bearer:
    type: apiKey
    name: Authorization
    in: header
consumes:
  - application/json
produces:
  - application/json
paths:
  /phones:
    get:
      security:
        - Bearer: []
      description: 'Get phones catalog.'
      consumes:
        - application/x-www-form-urlencoded
      produces:
        - application/json
      responses:
        '200':
          description: OK
          schema:
            type: 'array'
            items:
              $ref: '#/definitions/phone'
          examples:
            application/json:
              [
                {
                  '_id': '5c18b086be253f6c7a799454',
                  'img': 'http://lorempixel.com/640/480',
                  'name': 'blanditiis sed ipsa',
                  'description': 'quas possimus unde',
                  'price': 337,
                  '__v': 0,
                },
                {
                  '_id': '5c18b086be253f6c7a799457',
                  'img': 'http://lorempixel.com/640/480',
                  'name': 'repudiandae nisi modi',
                  'description': 'Rerum aut et.',
                  'price': 511.99,
                  '__v': 0,
                },
                {
                  '_id': '5c18b086be253f6c7a79945a',
                  'img': 'http://lorempixel.com/640/480',
                  'name': 'autem labore dignissimos',
                  'description': 'Quasi qui saepe est facilis omnis.',
                  'price': 455.50,
                  '__v': 0,
                },
              ]
        '404':
          description: NO DATA
          schema:
            type: 'array'
            items:
              $ref: '#/definitions/phone'
          examples:
            application/json: []
  /order:
    post:
      security:
        - Bearer: []
      description: 'Created new order for authenticate user'
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: data
          description: Array of phones.
          required: true
          schema:
            type: array
            items:
              $ref: '#/definitions/phone'
      responses:
        '201':
          description: CREATED
          schema:
            $ref: '#/definitions/order'
          examples:
            application/json:
              {
                '_id': '5c18717e6ec08568020eec61',
                'customer':
                  {
                    '_id': '5c185f0f409e4b610506ef1d',
                    'name': 'Kelli',
                    'surname': 'Welch',
                    'email': 'Yvonne_Bins19@gmail.com',
                    '__v': 0,
                  },
                'phones':
                  [
                    {
                      '_id': '5c185f0f409e4b610506ef1e',
                      'img': 'http://lorempixel.com/640/480',
                      'name': 'quod totam eius',
                      'description': 'Eius quia quia aut.',
                      'price': 403.50,
                      '__v': 0,
                    },
                    {
                      '_id': '5c185f0f409e4b610506ef1f',
                      'img': 'http://lorempixel.com/640/480',
                      'name': 'eaque aspernatur totam',
                      'description': 'Nisi corporis labore excepturi dolore.',
                      'price': 994.50,
                      '__v': 0,
                    },
                  ],
                'total': 1398.00,
                '__v': 0,
              }
  /docs:
    get:
      description: 'HTML page for endpoints.'
      produces:
        - application/html
      responses:
        '200':
          description: OK
definitions:
  user:
    type: object
    properties:
      _id:
        type: string
      name:
        type: string
      surname:
        type: string
      email:
        type: string
  phone:
    type: object
    properties:
      _id:
        type: string
      image:
        type: string
      name:
        type: string
      description:
        type: string
      price:
        type: number
      __v:
        type: number
  order:
    type: object
    properties:
      customer:
        $ref: '#/definitions/user'
      phones:
        type: array
        items:
          $ref: '#/definitions/phone'
      total:
        type: number
